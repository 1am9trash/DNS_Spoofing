DNS Spoofing
---
- **發起時間**：2021/04/10
- **功能**：
  - 攻擊內網中的任意終端，阻斷其網路流量
  - 以校內宿網實測，功效如下表：（單位為Mbps）
    | 攻擊者使用的的網速 | 受害者的上傳網速 | 受害者的下載網速 |
    | ---: | ---: | ---: | 
    | 未攻擊 | 732.70 | 932.34 |
    | 70 | 10.06 | 184.28 |
    | 140 | 0.04 | 8.85 |
    | > 140 | break | break | 
- **原理**：
  - 透過raw_socket偽造DNS封包，並將封包來源設為受害者的ip位置，使DNS server回傳大量的回應封包給受害者，達成堵塞受害者網路的目的
  - 設法使攻擊者的流量放大，亦即使用攻擊者盡量少的流量，阻塞被攻擊者盡量多的流量
    - edns0：擴增UDP payload的限制，原本一個封包只允許512 bytes的payload，edns0可擴展到4096 bytes
    - type：在DNS query封包內，將回傳值的type設為any，使得DNS server回傳盡量多的資訊
    - 以上兩個做法，大約可使放大率達到十多倍
- **使用方式**：
  - 格式：
    ```
    test:~$ sudo .dns_spoofing victim's_ip port dns_server's_ip
    ```
  - 範例：經8.8.8.8的DNS server跳轉，通過111端口攻擊ip為192.168.52.131主機
    ```
    test:~$ sudo .dns_spoofing 192.168.52.131 111 8.8.8.8
    ```
